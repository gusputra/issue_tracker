{% extends "base.html" %}

{% block title %}Edit Issue - Issue Tracker{% endblock %}

{% block content %}
<div class="flex justify-center">
  <div class="glass w-full max-w-2xl p-8 rounded-2xl shadow-2xl border border-white/20">
    <h2 class="text-3xl font-bold text-center mb-6 bg-gradient-to-r from-orange-400 to-pink-500 bg-clip-text text-transparent">
      Edit Issue
    </h2>

    <form method="POST" class="space-y-6">
      <!-- Property Name -->
      <div>
        <label class="block text-sm font-semibold mb-2 text-gray-200">Property Name</label>
        <input type="text" name="property_name" value="{{ issue.property_name }}" required
          class="w-full px-4 py-2 rounded-lg bg-white/20 border border-white/30 text-white placeholder-gray-200 focus:ring-2 focus:ring-orange-400 outline-none transition">
      </div>

      <!-- Description -->
      <div>
        <label class="block text-sm font-semibold mb-2 text-gray-200">Description</label>
        <textarea name="description" rows="4" required
          class="w-full px-4 py-2 rounded-lg bg-white/20 border border-white/30 text-white placeholder-gray-200 focus:ring-2 focus:ring-orange-400 outline-none transition">{{ issue.description }}</textarea>
      </div>

      <!-- Status -->
      <div>
        <label class="block text-sm font-semibold mb-2 text-gray-200">Status</label>
        <select name="status" required
          class="w-full px-4 py-2 rounded-lg bg-white/20 border border-white/30 text-white focus:ring-2 focus:ring-orange-400 outline-none transition">
          <option value="In Progress" {% if issue.status == "In Progress" %}selected{% endif %} class="text-gray-800">In Progress</option>
          <option value="Closed" {% if issue.status == "Closed" %}selected{% endif %} class="text-gray-800">Closed</option>
        </select>
      </div>

      <!-- Level -->
      <div>
        <label class="block text-sm font-semibold mb-2 text-gray-200">Priority Level</label>
        <select name="level" required
          class="w-full px-4 py-2 rounded-lg bg-white/20 border border-white/30 text-white focus:ring-2 focus:ring-orange-400 outline-none transition">
          <option value="Low" {% if issue.level == "Low" %}selected{% endif %} class="text-gray-800">Low</option>
          <option value="Medium" {% if issue.level == "Medium" %}selected{% endif %} class="text-gray-800">Medium</option>
          <option value="High" {% if issue.level == "High" %}selected{% endif %} class="text-gray-800">High</option>
        </select>
      </div>

      <!-- Submit -->
      <div class="flex justify-between">
        <a href="{{ url_for('recent') }}"
          class="px-6 py-2 bg-white/20 hover:bg-white/30 border border-white/40 text-white rounded-lg transition">
          ‚Üê Back
        </a>

        <button type="submit"
          class="px-8 py-2 bg-gradient-to-r from-orange-400 to-pink-500 hover:from-orange-500 hover:to-pink-600 text-white font-semibold rounded-lg shadow-md transition">
          üíæ Update Issue
        </button>
      </div>
    </form>
  </div>
</div>
{% endblock %}
